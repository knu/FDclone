FD(1)              UNIX-OS Programmer's Manual              FD(1)



名名称称
     fd - ファイル・ディレクトリ管理ツール

形形式式
     ffdd [ --SSOORRTTTTYYPPEE== _n_u_m ] [ --DDIISSPPLLAAYYMMOODDEE== _n_u_m ] [ --SSOORRTTTTRREEEE==
     _b_o_o_l ] [ --WWRRIITTEEFFSS== _n_u_m ] [ --AADDJJTTTTYY== _b_o_o_l ] [ --CCOOLLUUMMNNSS== _n_u_m ]
     [ --MMIINNFFIILLEENNAAMMEE== _n_u_m ] [ --HHIISSTTSSIIZZEE== _n_u_m ] [ --SSAAVVEEHHIISSTT== _n_u_m ]
     [ --DDIIRRCCOOUUNNTTLLIIMMIITT== _n_u_m ] [ --DDOOSSDDRRIIVVEE== _b_o_o_l ] [ --SSEECCOONNDD== _b_o_o_l
     ] [ --SSIIZZEEIINNFFOO== _b_o_o_l ] [ --EEDDIITTMMOODDEE== _s_t_r ] [ --TTMMPPDDIIRR== _d_i_r ] [
     --RRRRPPAATTHH== _p_a_t_h ] [ --LLAANNGGUUAAGGEE== _l_a_n_g ] [ --IINNPPUUTTKKCCOODDEE== _l_a_n_g ] [
     --PPAAGGEERR== _c_o_m_m_a_n_d ] [ --EEDDIITTOORR== _c_o_m_m_a_n_d ] [ --SSHHEELLLL== _c_o_m_m_a_n_d ] [
     _d_i_r_e_c_t_o_r_y ]

解解説説
     ffdd は、UNIX 汎用のテキスト端末用に考えられた、ファイルやディ
     レクトリの管理ツールです。PC の AT 互換機と PC9801 専用に、
     作られている同名ユーティリティのクローンを目指しています。実
     際、機能的には上位互換となっています。

     ffdd を起動すると、ファイル一覧のブラウザ画面になりますので、
     各コマンドを割当ててある各種キーの入力により、様々な機能を実
     行することができます。

     オオププシショョンン

     各コマンドラインオプションは、後述の内部変数の設定に使用しま
     す。ここで挙げられている以外にも任意の変数名が使用できますが、
     ffdd が解釈するものは挙げられているものに限ります。_d_i_r_e_c_t_o_r_y
     を指定すると、起動直後にカレントディレクトリをそのディレクト
     リに移動します。

     画画面面レレイイアアウウトト

     ffdd の画面モードは、大きく 3 つのモードに分けられます。ブラウ
     ザ画面では、ファイルの一覧リストの中をブラウジングして、各コ
     マンドを実行していきます。アーカイブブラウザ画面では、アーカ
     イブファイル内のファイルを、ディレクトリ階層別に一覧表示し、
     ブラウザ画面と同様にブラウジングします。ツリー表示画面では、
     ディレクトリの階層構造がツリー表示された中を、移動してディレ
     クトリパスを選択します。

     どの画面モードでも、画面全体の上下各 33 行ずつは、ffdd の様々な
     情報を表示するために用いられます。画面上端情報については、44
     行の場合もあります。その画面レイアウトは、おおよそ次のように
     なっています。

     行数      意味

     11         タイトル行。右端の時計は 1100 秒毎に更新されます。

     22         インフォメーション行。表示ページ (及び全ページ数)、
               マーク数 (及び全ファイル数)、ソート形式、ファイル
               検索文字列の順で情報が書かれます。

     33         パス行。カレントディレクトリのフルパスが表示されま
               す。また、アーカイブブラウザ画面では、アーカイブフ
               ァイルのフルパスと、アーカイブ内パスが表示されます。

     22 (随意)  ファイルサイズ情報行。ディレクトリ内のマークファイ
               ルのトータルサイズ (及び全ファイルのトータルサイズ
               )、カレントディレクトリのあるファイルシステムの総
               容量、及び空き容量が表示されます。後述の環境変数
               SSIIZZEEIINNFFOO の設定を事前に行なっておくことによりこの
               行が表示されます。この行が表示されている場合、イン
               フォメーション行とパス行はそれぞれ 1 行ずつ繰り下
               げて表示されます。

     最最下下 -- 22  スタック行。ファイルの並び替えを行なう際、一時的に
               スタックに積んだファイルがここに表示されます。

     最最下下 -- 11  ファンクション行。ファンクションキーの機能が表示さ
               れます。

     最最下下      ステイタス行。カーソル位置のファイルに関するステイ
               タスが表示されます。また、コマンド実行の上で何らか
               の支障が生じた場合のウォーニングメッセージもここに
               表示されます。

     ココママンンドド

     ffdd では以下の各コマンドが使用できます。これらのコマンドのキ
     ー割当てはユーザにより変更可能ですが、ここではデフォルトのキ
     ー割当てを添えます。識別子は、キー割当てをユーザ定義する場合
     等に用います。

     識別子              意味                          キー

     CCUURR_UUPP              カーソルを上に移動            ↑↑
     CCUURR_DDOOWWNN            カーソルを下に移動            ↓↓
     CCUURR_RRIIGGHHTT           カーソルを右に移動            →→
     CCUURR_LLEEFFTT            カーソルを左に移動            ←←
     RROOLLLL_UUPP             次の表示ページに切替え        PPaaggee DDoowwnn
     RROOLLLL_DDOOWWNN           前の表示ページに切替え        PPaaggee UUpp
     CCUURR_TTOOPP             カーソルを先頭に移動          HHoommee(<)
     CCUURR_BBOOTTTTOOMM          カーソルを最後尾に移動        EEnndd(>)
     FFNNAAMMEE_RRIIGGHHTT         ファイル名表示範囲を右シフト  ((
     FFNNAAMMEE_LLEEFFTT          ファイル名表示範囲を左シフト  ))
     OONNEE_CCOOLLUUMMNN          画面表示を 1 列にする         11
     TTWWOO_CCOOLLUUMMNNSS         画面表示を 2 列にする         22
     TTHHRREEEE_CCOOLLUUMMNNSS       画面表示を 3 列にする         33
     FFIIVVEE_CCOOLLUUMMNNSS        画面表示を 5 列にする         55
     MMAARRKK_FFIILLEE           ファイルのマーク              TTaabb
     MMAARRKK_FFIILLEE22          ファイルのマークと下移動      SSppaaccee
     MMAARRKK_FFIILLEE33          ファイルのマークと画面内移動  ^^SSppaaccee
     MMAARRKK_AALLLL            全ファイルにマーク            HHoommee(+)
     MMAARRKK_RREEVVEERRSSEE        全ファイルをマーク反転        EEnndd(-)
     MMAARRKK_FFIINNDD           検索したファイルにマーク      **
     IINN_DDIIRR              サブディレクトリに移動        RReettuurrnn
     OOUUTT_DDIIRR             親ディレクトリに移動          BBss
     LLOOGG_TTOOPP             ルートディレクトリに移動      ¥¥
     RREERREEAADD_DDIIRR          表示画面の再描画              ^^LL
     PPUUSSHH_FFIILLEE           ファイルをスタックに積む      DDeell(])
     PPOOPP_FFIILLEE            ファイルをスタックから取出す  IInnss([)
     LLOOGG_DDIIRR             ディレクトリの絶対移動        FF11(l)
     EEXXEECCUUTTEE_FFIILLEE        ファイルの実行                FF22(x)
     CCOOPPYY_FFIILLEE           ファイルのコピー              FF33(c)
     DDEELLEETTEE_FFIILLEE         ファイルの削除                FF44(d)
     RREENNAAMMEE_FFIILLEE         ファイル名の変更              FF55(r)
     SSOORRTT_DDIIRR            ファイルのソート              FF66(s)
     FFIINNDD_FFIILLEE           ファイルの検索                FF77(f)
     TTRREEEE_DDIIRR            ディレクトリのツリー表示      FF88(t)
     EEDDIITT_FFIILLEE           ファイルの編集                FF99(e)
     UUNNPPAACCKK_FFIILLEE         アーカイブファイルの解凍      FF1100(u)
     AATTTTRR_FFIILLEE           ファイル属性の変更            FF1111(a)
     IINNFFOO_FFIILLEESSYYSS        ファイルシステムの情報表示    FF1122(i)
     MMOOVVEE_FFIILLEE           ファイルの移動                FF1133(m)
     DDEELLEETTEE_DDIIRR          ディレクトリの削除            FF1144(D)
     MMAAKKEE_DDIIRR            ディレクトリの作成            FF1155(k)
     EEXXEECCUUTTEE_SSHH          子プロセスの実行              FF1166(h)
     WWRRIITTEE_DDIIRR           表示ディレクトリの書込み      FF1177(w)
     BBAACCKKUUPP_TTAAPPEE         テープへのバックアップ        FF1188(b)
     VVIIEEWW_FFIILLEE           ファイルの閲覧                FF1199(v)
     PPAACCKK_FFIILLEE           ファイルの圧縮                FF2200(p)
     LLOOGG_TTRREEEE            ツリー選択でディレクトリ移動  LL
     CCOOPPYY_TTRREEEE           ツリー選択でファイルコピー    CC
     MMOOVVEE_TTRREEEE           ツリー選択でファイル移動      MM
     UUNNPPAACCKK_TTRREEEE         ツリー選択でファイル解凍      UU
     FFIINNDD_DDIIRR            ディレクトリの検索移動        FF
     SSYYMMLLIINNKK_MMOODDEE        symbolic リンク表示形式の切替 SS
     FFIILLEETTYYPPEE_MMOODDEE       ファイルタイプシンボルの切替  TT
     DDOOTTFFIILLEE_MMOODDEE        ドットファイル非表示の切替    HH
     LLAAUUNNCCHH_FFIILLEE         ランチャの起動                RReettuurrnn
     HHEELLPP_MMEESSSSAAGGEE        ヘルプ画面の表示              ??
     QQUUIITT_SSYYSSTTEEMM         fd の終了                     EEsscc(q)

     WWAARRNNIINNGG_BBEELLLL        ベルを鳴らします
     NNOO_OOPPEERRAATTIIOONN        何もしません

     最後の 2 つのコマンドは、キー割当てを変更してデフォルトで割
     当てられた機能を殺したい時に使います。

     ココママンンドド解解説説

     各コマンドの詳細を以下で説明します。同様な機能を持つコマンド
     は、幾つかまとめて説明しています。

        カカーーソソルル移移動動
             カーソルを移動します。

        表表示示ペペーージジ切切替替ええ
             表示が一画面に収まらなかった場合に、前後のページに移
             動します。カーソル移動でページの外に移動しようとした
             場合にも、ページ切替えになります。

        先先頭頭,, 最最後後尾尾へへのの移移動動
             カーソルをファイル一覧の先頭及び最後尾に移動します。
             表示が一画面に収まらない場合は、ページの切替えも行な
             われます。

        フファァイイルル名名表表示示範範囲囲のの変変更更
             ファイル名表示が規定のカラム内に収まらなかった場合、
             カーソル位置のファイル名のみ、表示される部分を変更し
             ていくことができます。それぞれ、一文字ずつ右と左にシ
             フトさせて表示します。ステイタス行の表示も同時にシフ
             トされます。

        画画面面表表示示列列のの変変更更
             通常は一画面 22 列の表示になっていますが、この列の数
             をそれぞれの値に変更します。列の数により、1 ファイル
             当たりのカラム数が変わるので、表示されているファイル
             情報も変化します。

        フファァイイルルののママーークク
             カーソル位置のファイルにマークをします。ディレクトリ
             にはマークできません。[SSppaaccee] の場合にはマークと同時
             にカーソルを下移動します。[^^SSppaaccee] の場合にも下移動
             しますがページ切替えはしません。また、[HHoommee] で全フ
             ァイルにマークを、[EEnndd] で全ファイルのマークを反転し
             ます。[**] では、ワイルドカードにマッチしたファイルに
             マークを追加します。ワイルドカード文字列は [**] を押
             した後でその都度入力します。

             マークしたファイルは、AATTTTRR_FFIILLEE , CCOOPPYY_FFIILLEE ,
             DDEELLEETTEE_FFIILLEE , MMOOVVEE_FFIILLEE , UUNNPPAACCKK_FFIILLEE 及びユーザ定義
             のコマンドマクロ実行の際に対象となります。

        カカレレンントトデディィレレククトトリリのの移移動動
             移動したいサブディレクトリのところにカーソルを移動し、
             [RReettuurrnn] を押すと、そのディレクトリに移動します。親
             ディレクトリへは、".." のファイルにカーソル移動して
             [RReettuurrnn] を押すか、もしくは [BBss] を押すことで移動で
             きます。また、[¥¥] でルートディレクトリへの絶対移動を
             行ないます。

        フファァイイルルススタタッッククへへのの積積みみ下下ろろしし
             [DDeell] を押すと、そのカーソル位置のファイルが一旦スタ
             ックに積まれ、ファイル一覧の画面から一時的に削除され
             ます。スタックには 55 ファイルまで積むことができます。

             スタックに積まれたファイルは、[IInnss] でそのカーソル位
             置に挿入することができます。最後にスタックに積んだフ
             ァイルから順に取り出されます。但し、この並びは ffdd の
             中で便宜上そう見えているだけで、ディレクトリの移動等
             を行なえば元の並びに戻ります。

        表表示示画画面面のの再再描描画画
             カレントディレクトリの情報を再度読み出し、ファイル一
             覧の画面を再描画します。起動中に他のプロセスからファ
             イルの追加削除を行なった場合や、何らかの理由により画
             面表示が乱れた場合などに有効です。

             また、画面サイズの変更に際して SSIIGGWWIINNCCHH シグナルを発
             生しないような端末の場合 (HP-UXの kktteerrmm(1) など) は、
             画面サイズを変更した後には明示的に再描画させる必要が
             あります。

        デディィレレククトトリリのの絶絶対対移移動動 (Logdir)
             入力したパス名に、カレントディレクトリを移動します。
             '/' で始まるパス名を入力すれば、相対移動でなく絶対移
             動になります。

             パス名として ".." を入力すると、カレントディレクトリ
             のパス名を絶対表記に改めます。これ以外の移動では、リ
             ンク等の原因により、カレントディレクトリは常に仮想的
             なパス名を示します。また、"??" というパス名を入力する
             と、ffdd を起動した直前のカレントディレクトリに移動で
             きます。"--" というパス名を入力すると、最後に訪れたデ
             ィレクトリに移動できます。フロッピードライブに移動し
             ている時に "@@" というパス名を入力すると、フロッピー
             ドライブに移動する前の UNIX ファイルシステム側のディ
             レクトリに移動できます。

        フファァイイルルのの実実行行 (eXec)
             カーソル位置のファイル名に、パラメータを追加して子プ
             ロセスとして実行します。編集ラインのカーソル位置は、
             実行権のあるファイルではファイル名の後に、それ以外の
             ファイルではファイル名の前に来ます。それぞれ、適当な
             パラメータやコマンド名を補って下さい。また、カーソル
             キーの上下で過去に実行したコマンド履歴の参照もできま
             す。

        フファァイイルルののココピピーー (Copy)
             カーソル位置のファイルを指定のディレクトリにコピーし
             ます。カーソル位置がディレクトリだった場合には、ディ
             レクトリの中を再帰的にコピーできます。マークされたフ
             ァイルがある場合は、カーソル位置のファイルではなくマ
             ークファイルが対象となります。

             また、コピー先に同名ファイルが存在した場合、「日付の
             新しいファイルを上書き」「名前を変えてコピー」「全て
             上書き」「同名ファイルはコピーしない」の中から処理を
             選択できます。

        フファァイイルルのの削削除除 (Delete)
             カーソル位置のファイルを削除します。ディレクトリは削
             除できません。マークされたファイルがある場合は、カー
             ソル位置のファイルではなくマークファイルが対象となり
             ます。

             書込み権のないファイルの場合には、安全のため確認を取
             ります。

        フファァイイルル名名のの変変更更 (Rename)
             カーソル位置のファイルのファイル名を変更します。既に
             存在するファイルと同じ名前には変更できません。また、
             新しいファイル名としてディレクトリ付きのパス名を指定
             すると、ファイル移動も同時に行なわれることになります。

        フファァイイルルののソソーートト (Sort)
             カレントディレクトリ内のファイルをソートして表示しま
             す。ソートのタイプは「名前順」「拡張子順」「サイズ順」
             「日付順」の中から選び、更に「昇べき」「降べき」を指
             定します。ソート前のソートタイプが「ソートしない」以
             外だった時は、選択肢の中に「ソートしない」も含まれる
             ようになります。また、一度ソートした後に別のタイプで
             ソートすると、以前のソート結果を基準にしてソートし直
             します。なお、このソートには指定したタイプ以外に優先
             順位があり、「ソートしない」以外のソートタイプでは、
             ディレクトリファイルは通常ファイルよりも常に先んじて
             並べられます。

             但し、このソートは ffdd の中で便宜上そう見えているだけ
             で、ディレクトリの移動等を行なえば元の並びに戻ります。

        フファァイイルルのの検検索索 (Find)
             ワイルドカードにマッチしたファイルだけを画面に表示す
             るようにします。先頭が '.' で始まるファイル名は、'*'
             や '?' で始まるワイルドカードにマッチしません。検索
             表示を解除したい場合は、ディレクトリを移動するか、再
             度 FFIINNDD_FFIILLEE を実行して空行を入力して下さい。

             なお、検索表示中は WWRRIITTEE_DDIIRR は実行できません。

        デディィレレククトトリリののツツリリーー表表示示 (Tree)
             カレントディレクトリを基準としたツリー構造を表示しま
             す。ツリー表示モード内で移動したい先のディレクトリを
             選択すると、カレントディレクトリを移動します。

        フファァイイルルのの編編集集 (Editor)
             カーソル位置のファイルを編集します。編集に用いるエデ
             ィタは、内部変数 EEDDIITTOORR を参照して用いますが、内部変
             数が未定義の場合には環境変数 EEDDIITTOORR を参照します。

        アアーーカカイイブブフファァイイルルのの解解凍凍 (Unpack)
             カーソル位置のアーカイブファイルを指定ディレクトリ先
             に解凍します。デフォルトでは、tar ファイルとその圧縮
             ファイル及び lha 圧縮ファイルしか解凍できませんが、
             初期設定ファイルに記述することで、これ以外のアーカイ
             バにも対応できるようになります。

        フファァイイルル属属性性のの変変更更 (Attr)
             カーソル位置のファイルの、ファイルアクセスモードとタ
             イムスタンプを変更します。マークされたファイルがある
             場合は、カーソル位置のファイルではなくマークファイル
             が対象となります。マークファイルの場合は、モードかタ
             イムスタンプかのどちらかを選んでから、入力したものを
             一括変更することになります。

             モードの入力は、カーソルキーで変更したい位置へカーソ
             ルを移動し、[SSppaaccee] でその位置の属性を反転させます。
             実行ビットの属性は、2 値のトグルではなく、それぞれ
             setuid ビット、setgid ビット、sticky ビットを含んだ
             3 値のトグルになっていますので注意して下さい。タイム
             スタンプの入力は、変更したい位置にカーソルを持ってい
             って、数値を入力するだけです。最終的に、[RReettuurrnn] を
             押した時点で実行されます。中断する場合は [EEsscc] です。
             日付の範囲チェックは完全ではありませんので気をつけて
             下さい。

             なお、[aa](Attr), [dd](Date), [tt](Time) を入力すると、
             各々の入力ラインの先頭位置にカーソル移動します。

        フファァイイルルシシスステテムムのの情情報報表表示示 (Info)
             指定されたファイルシステムの情報を表示します。入力さ
             れたパスがファイルシステムを表すスペシャルファイルで
             なかった場合は、そのパスを含むファイルシステムの情報
             を示します。

        フファァイイルルのの移移動動 (Move)
             カーソル位置のファイルを指定のディレクトリに移動しま
             す。カーソル位置がディレクトリだった場合には、ディレ
             クトリそのものを移動します。マークされたファイルがあ
             る場合は、カーソル位置のファイルではなくマークファイ
             ルが対象となります。

             移動先に同名ファイルが存在した場合、CCOOPPYY_FFIILLEE 同様、
             処理の選択ができます。また、移動先が異なるファイルシ
             ステムの場合は、単にコピーと削除を連続して実行します
             が、この場合ディレクトリの移動はできません。

        デディィレレククトトリリのの削削除除 (rmDir)
             カーソル位置のディレクトリファイルを、再帰的に削除し
             ます。但し、ディレクトリが symbolic リンクの場合には、
             リンクの削除のみ行ない、リンク先のディレクトリには影
             響を与えません。

        デディィレレククトトリリのの作作成成 (mKdir)
             カレントディレクトリの下にサブディレクトリを作成しま
             す。入力したサブディレクトリ文字列に、パス名セパレー
             タである '/' が含まれていた場合、最終的にその文字列
             で示されるディレクトリが作成されるまで、再帰的にディ
             レクトリ作成を繰り返します。

             '/' で始まるパス名を入力すれば、カレントディレクトリ
             下でなく、表される絶対パスにディレクトリを作成します。

        子子ププロロセセススのの実実行行 (sHell)
             入力されたコマンド文字列を sshh(1) に渡して子プロセス
             として実行させます。EEXXEECCUUTTEE_FFIILLEE と同様にコマンド履
             歴の参照もできます。また、何も入力せずに [RReettuurrnn] の
             み入力すると、内部変数もしくは環境変数 SSHHEELLLL の指す
             ユーザシェルを起動します。この場合、ffdd に戻るために
             は "eexxiitt" と入力して下さい。

             コマンド文字列が '!!' から始まっていた場合のみ、組込
             みコマンドの実行モードになります。'!!' に続けて記述で
             きる組込みコマンドの詳細は、`組組込込みみココママンンドド' の項を
             参照して下さい。

        表表示示デディィレレククトトリリのの書書込込みみ (Write)
             現在表示されているディレクトリの書込みをします。ディ
             レクトリエントリ上のファイル間の隙間も詰めて書込まれ
             ます。PPUUSSHH_FFIILLEE , PPOOPP_FFIILLEE や SSOORRTT_DDIIRR で並び替えた
             後であれば、その結果を書込むことになります。

             表示ディレクトリがホームディレクトリ下の階層に属して
             いなかった場合、安全のため、他のユーザが利用していな
             いかどうかの確認を求めます。セキュリティ上不安定なの
             で、NFS マウントされたディレクトリや一部の特殊ディレ
             クトリ上では書込みできません。

             また、ファイルの並び替えをするようなコマンド実行後に、
             その並びを崩してしまうコマンドを実行しようとすると、
             そのコマンド実行の直前に、書込みを行なうかどうかを問
             い合わせしてきます。この機能のため、明示的にこの書込
             みコマンドを実行しなくてもディレクトリの書込みを行な
             うことがあります。但し、表示ディレクトリがホームディ
             レクトリ下になかった場合は、この問い合わせを行ないま
             せん。

        テテーーププへへののババッッククアアッッププ (Backup)
             カーソル位置のファイルを指定デバイスの記録装置にバッ
             クアップします。カーソル位置がディレクトリだった場合
             には、その中身を全て保存します。マークされたファイル
             がある場合は、カーソル位置のファイルではなくマークフ
             ァイルが対象となります。

             バックアップには ttaarr(1) を用います。デバイス名の入力
             の際に、デバイスを示すスペシャルファイル以外を与えた
             場合、そのファイル名でアーカイブファイルを作成します。

        フファァイイルルのの閲閲覧覧 (View)
             カーソル位置のファイルを閲覧します。閲覧に用いるペー
             ジャは、内部変数 PPAAGGEERR を参照して用いますが、内部変
             数が未定義の場合には環境変数 PPAAGGEERR を参照します。


        フファァイイルルのの圧圧縮縮 (Pack)
             カーソル位置のファイルを指定のアーカイブファイルに圧
             縮します。カーソル位置がディレクトリだった場合には、
             その中身を全てアーカイブファイルに入れます。マークさ
             れたファイルがある場合は、カーソル位置のファイルでは
             なくマークファイルが対象となります。

             入力したアーカイブファイルの拡張子を見て、それぞれに
             応じたアーカイバを自動的に選択します。デフォルトでは、
             tar ファイルとその圧縮ファイル及び lha 圧縮ファイル
             にしか圧縮できませんが、初期設定ファイルに記述するこ
             とで、これ以外のアーカイバにも対応できるようになりま
             す。

             但し、ttaarr(1) を用いる場合は、一度に渡せるパラメータ
             長の限界のせいで、たくさんのファイルを一度に圧縮する
             ことができない場合があります。そのような場合は、
             BBAACCKKUUPP_TTAAPPEE を用いてアーカイブファイルを作成して下さ
             い。

        ツツリリーーをを用用いいたたフファァイイルル操操作作
             [LL], [CC], [MM], [UU] を押すと、パス名の入力の際に、文
             字列を入力する代わりにツリー構造の中から選択させるこ
             とができます。それぞれ、LLOOGG_DDIIRR , CCOOPPYY_FFIILLEE ,
             MMOOVVEE_FFIILLEE , UUNNPPAACCKK_FFIILLEE と同等の機能のコマンドが実行
             されます。

        フファァイイルルのの検検索索移移動動
             ワイルドカードにマッチするファイルを、カレントディレ
             クトリから下に階層的に検索し、見つかったファイルのあ
             るディレクトリに移動します。カーソル位置がディレクト
             リだった場合は、カレントディレクトリでなく、カーソル
             位置のディレクトリの下を検索します。

             マッチした個々のファイルに対し、そこに移動するかどう
             かを確認してきますので、目的のファイルが表示されるま
             では [nn](No) を選択して下さい。

        ssyymmbboolliicc リリンンクク表表示示形形式式のの切切替替ええ
             ファイル表示欄やステイタス行に表示されるファイル情報
             は、symbolic リンクファイルの場合には、リンク先の本
             体ではなくリンクファイルのものになっています。これを、
             トグルスイッチでリンク先本体の情報を参照するように切
             替えます。

             リンク本体情報参照モードでは、ファンクション行の左端
             に 'SS'(Symbolic Link) と表示されます。

        フファァイイルルタタイイププシシンンボボルル表表示示のの切切替替ええ
             llss(1) コマンドの -F オプションでの表示と同様に、ファ
             イル一覧リストのファイル名の欄に、そのファイルのタイ
             プを表すシンボル文字を付加して表示します。トグルスイ
             ッチでシンボルの表示非表示を切替えます。各シンボルの
             意味は以下のとおり。
                  //    ディレクトリ
                  @@    シンボリックリンク
                  **    実行可能ファイル
                  ==    ソケット
                  ||    FIFO

             ファイルタイプ表示モードでは、ファンクション行の左端
             に 'TT'(Type) と表示されます。

        ドドッットトフファァイイルル表表示示非非表表示示のの切切替替ええ
             '.' で始まるファイル名のファイルを、ファイル一覧内に
             表示しないようにします。トグルスイッチでドットファイ
             ルの表示非表示を切替えます。

             ドットファイル非表示モードでは、ファンクション行の左
             端に 'HH'(Hidden) と表示されます。

        ラランンチチャャのの起起動動
             サブディレクトリ以外のカーソル位置で [RReettuurrnn] を押す
             と、それぞれのファイル拡張子に応じた動作をします。デ
             フォルトでは、tar ファイルとその圧縮ファイル及び lha
             圧縮ファイルに対し、アーカイブブラウザが登録されてい
             ます。初期設定ファイルに記述することで、これ以外のコ
             マンドもランチャとして登録することができます。

             カーソル位置が未登録の拡張子のファイルだった場合は、
             VVIIEEWW_FFIILLEE と同じ挙動を示します。アーカイブブラウザ画
             面でも、登録ランチャは有効に機能し、再帰的にアーカイ
             ブブラウザを起動することも可能です。

        ヘヘルルププ画画面面のの表表示示
             現在のキー割当てとそのコマンド内容を一覧表示します。
             一画面に収まりきらない場合は一画面分の表示で一旦キー
             入力を待ちます。

        ffddのの終終了了 (Quit)
             ffdd を終了します。

     組組込込みみココママンンドド

     ffdd では以下の組込みコマンドが用意されています。これらの組込
     みコマンドは、EEXXEECCUUTTEE_SSHH や初期設定ファイルの中で用いること
     ができます。

     !!_N_A_M_E==[_v_a_l_u_e] ffdd 内でのみ有効の内部変数の定義を行ないます。
                   内部変数 _N_A_M_E に値(文字列) _v_a_l_u_e を代入します。

                   _v_a_l_u_e を省略すると、内部変数 _N_A_M_E の定義を削除
                   します。内部定数値としてナルを登録したい時には、
                   _v_a_l_u_e として """" を指定します。

     !!''_c'' [_c_o_m_1 [_c_o_m_2]] [;;_c_o_m_m_e_n_t]
                   キー _c に対して、コマンド _c_o_m_1 を割当てます。_c
                   にコントロール文字を指定したい場合は、^^ を冠し
                   て "'^A'" のように 2 文字で記述します。ファン
                   クションキーを指定したい場合は、FF を冠して
                   "'F10'" のように文字列で記述することで、'F1'
                   から 'F20' までが割当て可能です。ffdd の持つ各コ
                   マンド機能の割当ては、コマンド識別子をそのまま
                   記述できます。また後述の !!_C_O_M_M_A_N_D 形式で記述す
                   れば引数付きで定義できます。シェルコマンドをマ
                   クロ表記で定義する場合は、"" で括った文字列を記
                   述します。_c_o_m_2 を省略せずに記述すると、カーソ
                   ル位置がディレクトリだった場合に _c_o_m_2 の方を実
                   行します。キー _c が 'F1' から 'F10' のファンク
                   ションキーの場合、コマンドの記述に続いて ;; を
                   冠して _c_o_m_m_e_n_t を記述すると、ファンクション行
                   の該当部分の表示を _c_o_m_m_e_n_t に変更できます。但
                   し、コントロール文字に対するキー割当てについて
                   は、後述の編集モードの設定が優先しますので気を
                   つけて下さい。

                   _c_o_m_1, _c_o_m_2 共に省略すると、キー _c に対するキー
                   割当て登録を削除します。

     !!""_e_x_t"" [_c_o_m [_f_o_r_m_a_t]]
                   拡張子 _e_x_t に対する挙動をランチャとして登録し
                   ます。_c_o_m にはシェルコマンドのマクロ表記を ""
                   で括って記述します。アーカイブブラウザを登録す
                   る場合には、_c_o_m にはアーカイブファイルの一覧表
                   示のためのシェルコマンドを記述し、_f_o_r_m_a_t に一
                   覧表示形式のフォーマットを記述します。

                   _c_o_m を省略すると、拡張子 _e_x_t に対するランチャ
                   登録を削除します。

     !!""_e_x_t"" AA [_p_a_c_k _u_n_p_a_c_k]
                   拡張子 _e_x_t のアーカイブファイルに対するアーカ
                   イバコマンドを登録します。_p_a_c_k には圧縮時のシ
                   ェルコマンドを、_u_n_p_a_c_k には解凍時のシェルコマ
                   ンドを、それぞれ "" で括ったマクロ表記で記述し
                   ます。

                   _p_a_c_k, _u_n_p_a_c_k 共に省略すると、拡張子 _e_x_t に対す
                   るアーカイバ登録を削除します。

     !!_c:: ""_d_e_v_i_c_e"" _h,, _s,, _c
                   MS-DOS フロッピーを扱うドライブ名 _c に _d_e_v_i_c_e
                   で表されるデバイスファイルを指定します。同時に、
                   _d_e_v_i_c_e のドライバで扱うフォーマットのヘッド(サ
                   イド)数、セクタ数、シリンダ(トラック)数を、そ
                   れぞれ _h, _s, _c で指定します。特殊な例として、
                   720KB2DD(h=2/s=9/c=80) しか扱えないドライバで
                   640KB2DD(h=2/s=8/c=80) のフロッピーを扱いたい
                   場合、_s の値として 110000 加えた値(108)を指定しま
                   す。

                   ドライブ名直後の '::' の代わりに '!!' を用いると、
                   既に登録されているフロッピードライブの登録を削
                   除します。

     !!eexxppoorrtt _N_A_M_E==[_v_a_l_u_e]
                   環境変数 _N_A_M_E に値(文字列) _v_a_l_u_e を代入します。
                   この環境変数は、ffdd から子プロセスとして呼ばれ
                   るシェルコマンドに継承されます。

                   _v_a_l_u_e を省略すると、環境変数 _N_A_M_E の定義を削除
                   します。環境変数値としてナルを登録したい時には、
                   _v_a_l_u_e として """" を指定します。

     !!ffuunnccttiioonn _n_a_m_e (()) [{{ [_c_o_m_1 [;; _c_o_m_2 ...]] }}]
                   コマンド列 _c_o_m_1, _c_o_m_2, ... を関数 _n_a_m_e として
                   定義します。定義された関数は、EEXXEECCUUTTEE_SSHH の入
                   力ラインのほか、上記の各コマンドマクロ内に用い
                   ることができます。コマンド列内に関数を再帰的に
                   用いることはできません。各コマンドは ';;' で区
                   切って最大 1166 まで登録できます。各コマンド記述
                   内では位置パラメータ $_n が記述可能で、これは、
                   関数呼出時の引数を指しています。$$00 が _n_a_m_e そ
                   のもので、$$11--$$99 までが引数を指します。但し、関
                   数呼出時に、|| >> << といった sshh(1) の記述子を用
                   いると、この記述子は関数の引数と見なされるので、
                   関数全体の入出力リダイレクト等はできません。

                   _c_o_m_1, _c_o_m_2, ... を省略すると、関数 _n_a_m_e の定義
                   を取消します。{} 以降全部を省略すると、関数
                   _n_a_m_e の定義内容を表示します。_n_a_m_e も省略すると、
                   現在定義されている全ての関数を一覧表示します。

     !!aalliiaass [_n_a_m_e [_c_o_m]]
                   コマンド _c_o_m の別名として _n_a_m_e をエイリアス定
                   義します。定義されたエイリアスは、EEXXEECCUUTTEE_SSHH
                   の入力ラインのほか、上記の各コマンドマクロ内に
                   用いることができます。エイリアスによる置換は再
                   帰的には行なわれません。

                   _c_o_m を省略すると、_n_a_m_e のエイリアスを表示しま
                   す。_n_a_m_e も省略すると、現在定義されている全て
                   のエイリアスを一覧表示します。

     !!uunnaalliiaass _n_a_m_e エイリアス _n_a_m_e の定義を取消します。_n_a_m_e には
                   ワイルドカードを用いることが可能で、その場合に
                   はマッチする全てのエイリアス定義を取消します。
                   "*" を指定すれば、全エイリアス定義が無効になり
                   ます。

     !!ssoouurrccee _f_i_l_e  設定ファイル _f_i_l_e を読み込んで評価します。設定
                   ファイルの書式は初期設定ファイルに準拠します。
                   設定ファイル内で入れ子にしてファイルを読み込ま
                   せることもできます。

     !!pprriinntteennvv     内部変数定義を一覧表示します。

     !!pprriinnttmmaaccrroo   キー割当てされているコマンドのうち、ffdd の持つ
                   各コマンドではなく、シェルコマンドのマクロとし
                   て定義されているものの一覧を表示します。ffdd の
                   持つ各コマンドのキー割当ては、HHEELLPP_MMEESSSSAAGGEE で
                   参照できます。

     !!pprriinnttllaauunncchh  ランチャとして登録されている、拡張子とコマンド
                   マクロの対応を一覧表示します。アーカイブブラウ
                   ザとして登録されているものについては、後ろに文
                   字列 `(_A_r_c_h)' を添えます。

     !!pprriinnttaarrcchh    アーカイバコマンドとして登録されている、拡張子
                   とコマンドマクロの対応を一覧表示します。

     !!pprriinnttddrriivvee   フロッピードライブとして登録されている、ドライ
                   ブ名とデバイスファイル及びそのヘッド数、セクタ
                   数、シリンダ数の対応を一覧表示します。

     !!hhiissttoorryy      履歴番号を添えてコマンド履歴を一覧表示します。

     !!_n_u_m          数値 _n_u_m で表される履歴番号のコマンドを実行し
                   ます。_n_u_m が負数だった場合は、現在の履歴番号か
                   ら相対的に数えて _n_u_m 番目の履歴番号のコマンド
                   を実行します。

     !!!!            直前のコマンドを実行します。!!--11 と同義です。

     !!ccdd _d_i_r       ffdd 内のカレントディレクトリを _d_i_r に移動します。
                   キーマクロとして "!_c_d $_H_O_M_E" などと定義してお
                   くと便利でしょう。パス名として "..", "??", "--",
                   "@@" を指定すると、LLOOGG_DDIIRR と同様の挙動が得られ
                   ます。

     !!_C_O_M_M_A_N_D [_a_r_g]
                   ffdd の持つコマンド _C_O_M_M_A_N_D を実行します。
                   _C_O_M_M_A_N_D には、各コマンド識別子を記述します。一
                   部のコマンドでは、実行回数や対象ディレクトリ等
                   のパラメータを引数 _a_r_g として記述できます。

     但し、pprriinntteennvv 以降の組込みコマンドは、初期設定ファイル内で
     実行することはできません。また、上記の各登録文字列内の ‾‾ や
     $$ は展開されますが、"" の代わりに '' で括られた文字列内では、
     これらの展開が抑制されます。

     ツツリリーー表表示示画画面面

     ツリー表示画面では、ファイルシステム全体の構造をツリーで表す
     には時間がかかり過ぎるので、最初は直系の親に当たるディレクト
     リと、カレントディレクトリ直下のサブディレクトリのみ表示しま
     す。直系の親に当たるディレクトリでは、その他のサブディレクト
     リ(あった場合)を "......" で一括して表します。このように一括表
     示されたサブディレクトリでは、カーソルがその位置に来ると自動
     的に展開するようになっています。

     まだその内部を展開していないサブディレクトリには、ファイル名
     の後ろに '>>' をつけてその旨を表記します。このようなディレク
     トリは、明示的に展開を要求しない限りは展開しないので、展開さ
     れていないサブディレクトリ下に移動したい場合は下記に示すキー
     入力により展開してから移動して下さい。

     ツリー表示モードでは、以下のキー入力が有効です。

          ↑↑, ↓↓    カーソル移動

          →→        カーソル位置のサブディレクトリの展開

          TTaabb       カーソル位置のサブディレクトリの展開(再帰的)

          PPaaggee UUpp, PPaaggee DDoowwnn
                    半画面分のカーソル移動

          HHoommee(<), EEnndd(>)
                    ツリーの先頭、最後尾にカーソル移動。

          ??         カレントディレクトリにカーソル移動。

          ←←, BBss    親ディレクトリにカーソル移動。

          ((, ))      同じ階層のサブディレクトリで、前(次)のディレ
                    クトリにカーソル移動。

          AA - ZZ     そのキーの文字及びその子文字を頭文字とするよ
                    うな名前を持つディレクトリにカーソル移動。

          ll         ツリー表示ディレクトリの変更。フロッピードラ
                    イブへの移動も行なえます。

          ^^LL        ツリー構造の再描画

          RReettuurrnn    ディレクトリの選択

          EEsscc       キャンセル

     なお、再帰的にディレクトリの展開を行なっている時など、マシン
     の処理が遅くてフリーズしているように見える場合があるかも知れ
     ません。このような場合には、処理中に何らかのキーを入力して下
     さい。ディレクトリの展開中にキー入力を認めた場合、途中であっ
     てもその時点でディレクトリの展開を中止します。キーリピートが
     効き放しになった場合でも、この機能のおかげで処理が溜らないよ
     うになっています。

     アアーーカカイイブブブブララウウザザ

     アーカイブブラウザの登録されている拡張子のファイル位置でラン
     チャを起動すると、アーカイブブラウザ画面になります。この画面
     では、通常のディレクトリ内と同じように、アーカイブファイル内
     のファイルをブラウジングしていくことができます。但し、この画
     面では以下のコマンドは使用できません。

          LLOOGG_TTOOPP        PPUUSSHH_FFIILLEE      PPOOPP_FFIILLEE       LLOOGG_DDIIRR
          AATTTTRR_FFIILLEE      CCOOPPYY_FFIILLEE      MMOOVVEE_FFIILLEE      DDEELLEETTEE_FFIILLEE
          DDEELLEETTEE_DDIIRR     RREENNAAMMEE_FFIILLEE    MMAAKKEE_DDIIRR       WWRRIITTEE_DDIIRR
          TTRREEEE_DDIIRR       BBAACCKKUUPP_TTAAPPEE    EEDDIITT_FFIILLEE      PPAACCKK_FFIILLEE
          LLOOGG_TTRREEEE       CCOOPPYY_TTRREEEE      MMOOVVEE_TTRREEEE      FFIINNDD_DDIIRR
          SSYYMMLLIINNKK_MMOODDEE   DDOOTTFFIILLEE_MMOODDEE

     また、新しいアーカイブブラウザを登録したい場合、以下のような
     書式でアーカイバの一覧表示形式のフォーマットを記述してやる必
     要があります。このフォーマット文字列ひとつで、一覧表示の 1
     行分の表示形式を表すことになります。

          "_t,, b:: _f_1,, _f_2,, _f_3,, _f_4,, _f_5,, _f_6,, _f_7,, _f_8,, _f_9 [:: _s_1,, ...]"

          _t         一覧の先頭行からの不必要な行の行数
          _b         一覧の最終行からの不必要な行の行数
          _f_1        ファイルモードを表す文字列範囲の記述
          _f_2        ファイルの UID を表す数値文字列範囲の記述
          _f_3        ファイルの GID を表す数値文字列範囲の記述
          _f_4        ファイルサイズを表す数値文字列範囲の記述
          _f_5        ファイル作成年を表す数値文字列範囲の記述
          _f_6        ファイル作成月を表す文字列範囲の記述
                    (表示は数値でも英字 3 文字表記でもどちらでも可。)
          _f_7        ファイル作成日を表す数値文字列範囲の記述
          _f_8        ファイル作成時間を表す文字列範囲の記述
                    (表示は "HH:MM:SS" 形式。分や秒はなくても可。)
          _f_9        ファイル名を表す文字列範囲の記述
          _s_1, ...   強制フィールドセパレータの位置

     ここでは、「フィールド」とは空白文字またはタブ文字で分けられ
     ている領域のことを指します。各情報を表す文字列の範囲を表現す
     る際に、空白文字やタブ文字では分離できない場合、境界となる位
     置を行頭からの文字数で _s_1, ... に記述し、その位置を強制的に
     フィールドの境界と見なすことにします。強制セパレータ位置は無
     条件でフィールド境界になるので、この位置に空白文字やタブ文字
     があったとしても、やはりフィールド境界になります。この強制セ
     パレータ位置の記述は、ひとつのフォーマット文字列につき 33 箇
     所まで有効です。空白文字とタブ文字だけで完全に分けられるよう
     な場合は、'::' も含めて _s_1 以降の記述は必要ありません。

     各文字列範囲の記述は、以下のように表現されます。

          _f? = "_s_t_a_r_t[-_e_n_d]"

     _s_t_a_r_t は、文字列の開始位置を示します。丁度フィールド境界に開
     始位置が来る場合は、単に行頭から数えたフィールドの順番を記述
     します。第 _n フィールドの中で文字 _c の後ろから始まるという場
     合は、"_n'_c'" と記述します。また、その情報を表す文字列が存在
     しない場合には、00 を記述しておきます。

     _e_n_d は、文字列の終了位置を示します。丁度フィールド境界に終了
     位置が来る場合は、'--' も含めて何も記述する必要はありません。
     フィールド開始位置から文字 _c の直前までという場合は、"'_c'"
     と記述します。フィールドの開始位置から数えて _n 文字目までと
     いう場合には、単にその数値 _n を記述します。

     例として、幾つかのアーカイバの一覧表示形式のフォーマットを、
     この書式で記述して挙げておきます。

     `llhhaa ll'           "2,2: 1, 2-'/', 2'/', 3,0,5,6,7,8"

     `ttaarr ttvvff' (BSD)   "0,0: 1-9, 2-'/', 1'/', 2,6,3,4,5,7:10"

     `ttaarr ttvvff' (SVR4)  "0,0: 1, 2-'/', 2'/', 3,7,4,5,6,8"

     以上のフォーマットを用いて、EEXXEECCUUTTEE_SSHH の組込みコマンドもし
     くは初期設定ファイルによって登録を行なえば、デフォルトで用意
     してあるアーカイブブラウザ以外も使用できるようになります。但
     し、アーカイブファイル内のファイルを実行したり閲覧したりする
     ためには、そのアーカイブファイル用のアーカイバコマンドも登録
     しておく必要がありますので、注意して下さい。

     一部の OS では、環境変数 LLAANNGG に _j_a_p_a_n_e_s_e を指定しておくと、
     タイムスタンプの表示に "HH時 MM分 SS秒" という日本語混在の出
     力をする ttaarr(1) が存在します。このような表示形式は ffdd では解
     析できないので、この場合は初期設定ファイルで `_e_x_p_o_r_t _L_A_N_G=_C'
     としておくと良いでしょう。

     フフロロッッピピーードドラライイブブ

     ディレクトリ名の先頭に "_c::" をつけて書き表すことで、MS-DOS
     フォーマットのフロッピーにアクセスすることができます。但し、
     フロッピードライブの登録と、この機能を有効にするための環境変
     数 DDOOSSDDRRIIVVEE の設定を事前に行なっておくことが必要です。

     登録された各ドライブは、ドライブ名によって区別されます。物理
     的に異なるドライブには必ず異なるドライブ名をつけて下さい。同
     一のドライブで複数のフォーマットに対応している場合は、それぞ
     れのフォーマットの登録を同じドライブ名で行なっても構いません
     し、それぞれ異なるドライブ名で行なっても構いません。同じドラ
     イブ名をつけられた場合には、登録されている順番にフォーマット
     の適合を試みますので、よく使うフォーマットの登録を先に持って
     きた方が良いでしょう。

     フロッピードライブはドライブ単位でカレントディレクトリを持っ
     ています。この初期値はルートディレクトリで、フロッピーを入れ
     換えるとカレントディレクトリは再びルートディレクトリに戻りま
     す。ディレクトリ名として '::' の後ろを '/' で始めると、そのド
     ライブの絶対パス表記になります。この '/' がないと、そのドラ
     イブのカレントディレクトリからの相対表記と見なされますので注
     意して下さい。

     但し、WWRRIITTEE_DDIIRR , IINNFFOO_FFIILLEESSYYSS など一部のコマンドは、フロッ
     ピードライブに対応していませんのでご了承下さい。また、ファイ
     ル名長などの制限から、UNIX 上のファイルをコピーした場合に名
     前が変更される場合があります。

     ドライブ名として大文字を用いると、VFAT format floppy の Long
     File Name が扱えるフロッピードライブとしてアクセスできます。
     この場合、UNIX 上の長いファイル名もそのままコピーすることが
     できます。但し、UNICODE の変換テーブルを持たないため、漢字の
     ファイル名は LFN 形式では扱えません。

     文文字字列列のの入入力力

     パス名などの文字列を入力する場合には、以下のキー入力が有効で
     す。

     ←←, →→    カーソル移動。

     ↑↑, ↓↓    これまでの実行コマンド履歴の参照。またはカーソル移
               動。

     BBeegg       文字列の先頭にカーソル移動。

     EEooll       文字列の最後尾にカーソル移動。

     DDeell       カーソル位置の一文字を消去。

     BBss        カーソル直前の一文字を消去。

     DDeellLLiinn    カーソル以降の文字列全てを消去。

     IInnssLLiinn    後続の入力文字をそのまま入力文字として扱います。コ
               ントロール文字の入力に有効です。

     EEnntteerr     現在のカーソル位置のファイル名を取込。

     TTaabb       カーソル位置でパス名の補完。または補完選択候補リス
               ト内での候補移動。選択候補が複数ある場合には、何度
               か入力し続けることにより選択候補リストが表示されま
               す。

     ^^LL        入力文字列の再描画。

     RReettuurrnn    入力決定。または補完選択候補リスト内での候補決定。

     EEsscc       キャンセル。

     また、入力された文字列は、評価される直前に以下のような展開が
     行なわれます。この展開は、コマンドマクロの文字列中でも有効で
     す。

     ‾‾       ファイル名の先頭にあって、ユーザ本人のホームディレク
             トリを指します。

     ‾‾_u_s_e_r   ファイル名の先頭にあって、_u_s_e_r のホームディレクトリ
             を指します。

     $$_N_A_M_E
     $${{_N_A_M_E}} 内部変数、または環境変数 _N_A_M_E の値を指します。重複し
             て定義されている場合は、内部変数の方が優先します。ど
             ちらにも未定義だった場合はナルに置き換わります。中括
             弧 {{ }} は _N_A_M_E を後続の文字から分離します。

     編編集集モモーードド

     カーソルキーやスクロールキーなど、特殊機能キーに割り当てられ
     ている機能を利用したい場合、端末の設定によっては対応するキー
     が存在しないこともあります。そのような場合、内部変数 EEDDIITT--
     MMOODDEE に文字列を設定することで、コントロール文字をこれらの特
     殊キーの代わりに用いることができます。また、これらの代替キー
     機能は、組込みコマンドによるキー割当て変更に優先しますので、
     ここで代替キーとして用いられているコントロール文字については
     キー割当ての変更が無効になります。用意されている編集モードは
     以下の 3 つです。

     eemmaaccss
                 ^^PP   = ↑↑      ^^AA   = BBeegg
                 ^^NN   = ↓↓      ^^EE   = EEooll     ^^DD   = DDeell
                 ^^FF   = →→                     ^^QQ   = IInnssLLiinn
                 ^^BB   = ←←                     ^^KK   = DDeellLLiinn
                 ^^VV   = PPaaggeeDDnn  ^^YY   = PPaaggeeUUpp  ^^OO   = EEnntteerr
                 ^^MM   = RReettuurrnn  ^^II   = TTaabb     ^^HH   = BBss
                 ^^[[   = EEsscc     ^^GG   = EEsscc

     wwoorrddssttaarr
                 ^^EE   = ↑↑      ^^AA   = BBeegg     ^^VV   = IInnss
                 ^^NN   = ↓↓      ^^FF   = EEooll     ^^GG   = DDeell
                 ^^FF   = →→      ^^WW   = HHoommee    ^^]]   = IInnssLLiinn
                 ^^SS   = ←←      ^^ZZ   = EEnndd     ^^YY   = DDeellLLiinn
                 ^^CC   = PPaaggeeDDnn  ^^RR   = PPaaggeeUUpp  ^^NN   = EEnntteerr
                 ^^MM   = RReettuurrnn  ^^II   = TTaabb     ^^HH   = BBss
                 ^^[[   = EEsscc

     vvii      vvii モードは「挿入モード」と「コマンドモード」の 2 つ
             のローカルモードを持ち、それぞれのモードでキーの機能
             が全く異なります。入力開始時はコマンドモードにいるの
             で、一般のキー入力を行なうには挿入モードへ移行する 4
             種類のキーのいずれかを入力する必要があります。
                 (コマンドモード)
                 kk    = ↑↑      00    = BBeegg     II    = IInnss
                 jj    = ↓↓      $$    = EEooll     xx    = DDeell
                 ll    = →→      gg    = HHoommee
                 hh    = ←←      GG    = EEnndd     DD    = DDeellLLiinn
                 ^^FF   = PPaaggeeDDnn  ^^BB   = PPaaggeeUUpp  oo    = EEnntteerr
                 ^^MM   = RReettuurrnn  ^^II   = TTaabb     ^^HH   = BBss
                 ^^[[   = EEsscc
                 (コマンドモードから挿入モードへ)
                 ii, :: = モードの移行のみ
                 aa    = + →→    AA    = + EEooll
                 (挿入モード)
                 ^^VV   = IInnssLLiinn  EEsscc  = コマンドモードへ
             かなり特殊なキー割当てなので、日常的に vvii エディタを
             用いていない人には不向きでしょう。

     パパララメメーータタママククロロ

     コマンドマクロの登録、及びシェルコマンド実行用に入力する文字
     列内では、以下のパラメータマクロが使用できます。

     %%CC      カーソル位置のファイル名。但し、アーカイバコマンド登
             録用マクロではアーカイブファイルを指します。

     %%XX      カーソル位置のファイル名の拡張子を除いた部分。但し、
             アーカイバコマンド登録用マクロではアーカイブファイル
             の拡張子を除いた部分を指します。拡張子は最後尾の一個
             だけ除かれます。また、%X に続けて T, TA, M を記述す
             ると、それぞれ %T, %TA, %M の拡張子を除いた部分にな
             ります。

     %%PP      カレントディレクトリのパス名。

     %%KK      シェルコマンド終了後、キー入力を待ってから ffdd に戻り
             ます。但し EEXXEECCUUTTEE_FFIILLEE , EEXXEECCUUTTEE_SSHH では %K の意味
             は逆になり、デフォルトでキー入力を待ち %K の指定があ
             れば入力待ちしません。また、ランチャのアーカイブブラ
             ウザ登録用マクロや、アーカイバコマンド登録用マクロで
             は、無条件にキー入力待ちはできません。

     %%TT      マークファイルを可能な限り空白で区切って羅列します。
             ファイルが多くてコマンド行が 11002233 文字を越えるような
             場合には、残りのマークファイルは無視されます。

     %%TTAA     %T と同様にマークファイルを羅列しますが、コマンド行
             から溢れたファイルは、再度同じコマンドを実行すること
             で、マークの最後までファイル名が渡されます。

     %%MM      マークファイルを一個ずつ渡し、マークの数だけ同じコマ
             ンドを順々に実行します。MMAARRKK_FFIINNDD で検索マークしてか
             ら、EEXXEECCUUTTEE_SSHH で "mv %M %XM.bak" などとすると便利で
             しょう。

     %%NN      パラメータが省略された場合のファイル名の追加を抑制し
             ます。

     %%RR      マクロ実行時に、コマンド文字列の長さに余裕があれば、
             追加でパラメータを手入力するようにします。入力時のカ
             ーソル位置は、マクロ中で %R のあった位置になります。
             但し、ランチャのアーカイブブラウザ登録用マクロや、ア
             ーカイバコマンド登録用マクロ、及び EEXXEECCUUTTEE_FFIILLEE ,
             EEXXEECCUUTTEE_SSHH では、%R は無視されます。

     コマンドマクロ内でパラメータマクロを展開した結果、%C や %T
     などによるファイル名パラメータが一つも渡されなかった場合、自
     動的に展開された文字列の最後尾には、カーソル位置のファイル名
     が追加されます。シェルコマンド実行用の入力文字列の場合、もし
     くは %N マクロがあった場合には、そのようなファイル名の追加は
     行なわれません。

     カカススタタママイイズズ

     ffdd のカスタマイズには、以下のような方法があり、複数の方法で
     重複して指定された場合には、この順で優先されることになります。

        EEXXEECCUUTTEE_SSHH のの組組込込みみココママンンドド実実行行
                  '!!' を冠して組込みコマンドを実行することで、内
                  部変数定義、環境変数定義、キー割当て、ランチャ
                  登録、アーカイバ登録が可能です。

        ココママンンドドラライインンパパララメメーータタ
                  コマンドラインのパラメータに、`-_N_A_M_E=_v_a_l_u_e' の
                  形式で値を渡すことにより、内部変数の定義が可能
                  です。

        ..ffddrrcc     実行ユーザのホームディレクトリにある初期設定フ
                  ァイル ..ffddrrcc に記述しておくことで、内部変数定義、
                  環境変数定義、設定ファイル読込み、キー割当て、
                  ランチャ登録、アーカイバ登録が可能です。各定義
                  や登録の書式は、EEXXEECCUUTTEE_SSHH の場合と同じですが、
                  '!!'を冠する必要はありません。なお、行頭が '##'
                  または ';;' で始まる行、及び空行は無視されます。
                  行の最後尾が '¥¥' で終っている場合は、その行の記
                  述が次行にも継続しているとみなしますので、一行
                  が長くなるような場合はこれで分割できます。

                  また、..ffddrrcc の読込みに先だって、システム管理者
                  による初期設定ファイル //eettcc//ffddrrcc が読込まれます。
                  このファイルがある場合、..ffddrrcc で意図的に登録を
                  削除しない限り、システム管理者の用意した初期設
                  定が有効になります。

        環環境境変変数数  内部変数に定義して有効な変数は、予め環境変数と
                  して定義しておいても有効です。但し、ffdd 内では常
                  に内部変数の方が優先されます。また、同じ名前の
                  環境変数が他のアプリケーションでも使われている
                  場合、ffdd 用に別の定義をしておきたければ、各々の
                  環境変数名の前に FFDD_ の 3 文字を冠したものも同
                  じ用途に使用できます。この FFDD_ を冠した環境変数
                  は、冠していない環境変数よりも常に優先されるの
                  で、FFDD_ のない内部変数の定義よりも、FFDD_ を冠し
                  た環境変数の方が有効になります。


環環境境変変数数
     ffdd では以下の環境変数が有効です。これらの環境変数は、すべて
     内部変数として定義することも可能です。また、コマンドラインパ
     ラメータとして与えることもできます。

     SSOORRTTTTYYPPEE      ブラウザ画面のファイル一覧リストは、デフォルト
                   ではソートしないようになっていますので、ディレ
                   クトリ内に登録されている順に並べられています。
                   これを、デフォルトでソートするように定義します。
                   設定する値は以下のとおり。
                       00    ソートしない
                       11    名前順         99    名前順(逆順)
                       22    拡張子順       1100   拡張子順(逆順)
                       33    サイズ順       1111   サイズ順(逆順)
                       44    日付順         1122   日付順(逆順)
                       110000--111122   直前のソート形式を保持

                   100 〜 112 の値を設定した場合、起動直後は下 2
                   桁で表される数値のソート形式になりますが、ディ
                   レクトリ移動などの際にはデフォルトのソート形式
                   ではなく、その直前に指定したソート形式が保持さ
                   れるようになります。

     DDIISSPPLLAAYYMMOODDEE   ffdd 起動時の、ファイル一覧リストのファイル名表
                   示形式を設定します。symbolic リンク表示形式、
                   ファイルタイプシンボルの表示、及びドットファイ
                   ルの非表示を、それぞれ独立に選択できます。デフ
                   ォルトは 00 です。設定する値は以下のとおり。
                       00    標準
                       11    SYMLINK
                       22                FILETYPE
                       33    SYMLINK &   FILETYPE
                       44                             DOTFILE
                       55    SYMLINK &                DOTFILE
                       66                FILETYPE &   DOTFILE
                       77    SYMLINK &   FILETYPE &   DOTFILE

     SSOORRTTTTRREEEE      ツリー表示画面でディレクトリの並びをソートする
                   ようにします。ソートタイプは SSOORRTT_DDIIRR で指定し
                   たものを用いますが、「サイズ順」及び「日付順」
                   になっている場合はソートできません。また、カレ
                   ントディレクトリパスに含まれるディレクトリは、
                   ソートタイプに関係なく常にツリー構造の先頭に来
                   ます。00 かナル以外の値であれば、何を定義しても
                   有効です。

     WWRRIITTEEFFSS       WWRRIITTEE_DDIIRR コマンドの使用を禁止します。値を 11
                   にすると、明示的にコマンドが実行された時のみデ
                   ィレクトリに対して書込みを行ない、並び替えの後
                   に書込みの問い合わせをしてこないようになります。
                   値を 22 にすると、コマンドでの実行すら無効にな
                   り、ディレクトリの書込みが一切禁止されます。

     AADDJJTTTTYY        ffdd を終了する時に、端末モードを正常な状態に強
                   制的にリセットします。端末が文字化けするような
                   状態を、ffdd を起動することで正しく調整すること
                   ができます。00 かナル以外の値であれば、何を定義
                   しても有効です。

     CCOOLLUUMMNNSS       ffdd 起動時の画面表示列を設定します。デフォルト
                   は 22 列です。11, 22, 33, 55 以外の値を指定すると無
                   視されます。

     MMIINNFFIILLEENNAAMMEE   ファイル一覧リスト内の、ファイル名表示領域の最
                   小文字数を設定します。端末のカラム数や画面表示
                   列によって、ここで設定した文字数分だけの領域が
                   確保できない場合には、UID,GID、タイムスタンプ、
                   サイズ、の順で情報を減じていきます。デフォルト
                   は 1122 文字です。

     HHIISSTTSSIIZZEE      EEXXEECCUUTTEE_FFIILLEE や EEXXEECCUUTTEE_SSHH で参照できる履歴の
                   数の上限を設定します。デフォルトは 5500 個です。
                   この値が 00 の時には履歴参照ができません。

     SSAAVVEEHHIISSTT      履歴セーブファイルに保存する数の上限を設定しま
                   す。デフォルトは 5500 個です。この値が 00 の時に
                   はセーブファイルを作成しません。

     DDIIRRCCOOUUNNTTLLIIMMIITT ツリー表示モードで、ディレクトリ内のファイルを
                   調べる上限数を設定します。後ろに '>>' のついた
                   ディレクトリであっても、その中にサブディレクト
                   リが一つもなければ、展開してもツリー構造は変化
                   しません。ディレクトリ内のファイル数 (ディレク
                   トリも含む) がこの数値以内であれば、一つもサブ
                   ディレクトリを持たないディレクトリには、最初か
                   ら '>>' をつけません。また、画面右に表示される
                   ディレクトリ内ファイルの一覧も、この数値を越え
                   ては表示しないようになります。処理の遅いマシン
                   では、この値を 00 にしておけば、快適な処理速度
                   が実現できます。デフォルトは 5500 ファイルです。

     DDOOSSDDRRIIVVEE      MS-DOS フロッピーへのアクセス機能を有効にしま
                   す。フロッピードライブの登録がなければ、ここで
                   有効にしてあってもフロッピーへのアクセスはでき
                   ません。00 かナル以外の値であれば、何を定義して
                   も有効です。

     SSEECCOONNDD        タイトル行の時計に秒針を表示させるようにします。
                   但し、正確に時計が調整されるのは 1100 秒おきなの
                   で、その間は実時間とのずれが生じています。00 か
                   ナル以外の値であれば、何を定義しても有効です。

     SSIIZZEEIINNFFOO      ファイルサイズ情報行を画面上端に表示させるよう
                   にします。但し、ここで表示されるトータルサイズ
                   は単純にバイト数を合計したものではなく、実際に
                   ディスクを占有しているブロックサイズ単位で合計
                   したものになります。00 かナル以外の値であれば、
                   何を定義しても有効です。

     EEDDIITTMMOODDEE      キー入力の編集モードを文字列で指定します。デフ
                   ォルトは eemmaaccss です。eemmaaccss,, wwoorrddssttaarr,, vvii 以外
                   の文字列またはナルを指定した場合、コントロール
                   文字は変換されずにそのまま渡されます。

     TTMMPPDDIIRR        アーカイバコマンドが、アーカイブファイル内のフ
                   ァイルを一時的に解凍するための作業ディレクトリ
                   を設定します。デフォルトは //ttmmpp です。

     RRRRPPAATTHH        iso-9660 RockRidge 拡張に対応していない OS 用
                   に、CD-ROM のマウントされているディレクトリ以
                   下のファイルを疑似的に RockRidge 拡張して表示
                   します。';;' で区切って複数のマウントポイントを
                   指定できます。各マウントポイントの指定は、CD-
                   ROM がマウントされているトップディレクトリだけ
                   を記述すれば、それ以下のディレクトリでは全て疑
                   似 RockRidge 拡張機能が働きます。但し、飽くま
                   でもこれは疑似的な拡張で、TRANS.TBL ファイルを
                   参照してファイル名の置換えをしているに過ぎませ
                   んので、TRANS.TBL が不整合な一部の CD-ROM では
                   正しく機能しません。デフォルトではマウントポイ
                   ントは一つも指定されていません。

     LLAANNGGUUAAGGEE      表示する文字の言語を指定します。ffdd の出力する
                   各種メッセージの他、漢字を含むファイル名に対す
                   るコード変換も行なわれます。選択できる文字種は
                   以下のとおりですが、これらの文字列が含まれてい
                   れば判別しますので、環境変数 LLAANNGG の値をそのま
                   ま用いても有効です。
                       JJIISS, jjiiss       7bit JIS
                       EEUUCC, eeuucc       EUC 漢字
                       SSJJIISS, ssjjiiss     シフト JIS
                       EENNGG, eenngg, CC    英語 (メッセージのみ)
                       デフォルト     変換しない

     IINNPPUUTTKKCCOODDEE    キーボード入力時の漢字コードを指定します。
                   LLAANNGGUUAAGGEE と同じ文字列を識別しますが、「EUC 漢
                   字」と「シフト JIS」以外の設定は無効です。これ
                   以外の設定にすると、コンパイル時の設定による漢
                   字コードが採用されます。文字列が入力された時点
                   でコンパイル時に設定した漢字コードにコンバート
                   されますので、ネットワーク上の漢字コードの異な
                   るマシンから、漢字で書かれたファイルを参照する
                   ことも可能です。


多多国国語語対対応応
     コンパイル時の設定により、「EUC 漢字」と「シフト JIS」で漢字
     を入出力できます。漢字を含むパス名の表示には、漢字の 2byte
     目に対する考慮がされています。入出力に関しては、内部変数
     LLAANNGGUUAAGGEE 及び IINNPPUUTTKKCCOODDEE により、動的に漢字コードを選択でき
     ます。文字列の入力では、日本語入力フロントエンドプロセッサを
     用いて漢字の入力が可能です。

     コマンドマクロやシェルコマンド文字列内に漢字は使用できますが、
     内部変数の値には漢字は使用できません。'％％' や '””' など、
     2byte 文字の記号は、メタキャラクタなどの記号としては用いるこ
     とができません。ワイルドカードの検索では、漢字は 1 文字とし
     て見なされません。


著著者者
     白井 隆 <shirai@nintendo.co.jp>。MS-DOS 用に作られたオリジナ
     ルの『ＦＤ』は、A.Idei <SDI00544@niftyserve.or.jp> 氏によっ
     て 1989 年に最初に作成、公開されました。ffdd はこのインプリメ
     ントを模して、1995 年に UNIX 用に一から新たに作成されました。


関関連連フファァイイルル
     //eettcc//ffddrrcc システム共通の ffdd 初期設定ファイル。
     ‾‾//..ffddrrcc   個人用の ffdd 初期設定ファイル。
     ‾‾//..ffdd_hhiissttoorryy
               実行コマンド履歴のセーブファイル。
     //bbiinn//sshh   環境変数 SSHHEELLLL が未定義だった場合のユーザシェル。
     //bbiinn//rrmm   異常終了時に不要ファイルを消去するためのコマンド。
     //ttmmpp//ffdd**  アーカイブファイル解凍のための一時的ディレクトリ。


制制限限事事項項
     コマンドマクロの展開後のサイズは 11002233 文字までに制限されてい
     ます。文字列の入力は、画面サイズにも依存しますが、225555 文字を
     越えては入力できません。

     登録できるキー割当ては 225566 個までです。このうち、ユーザ定義
     マクロで割当てられるのは 6644 個までです。登録できるランチャは、
     アーカイブブラウザの登録を含めて 3322 個までです。登録できるア
     ーカイブコマンドは、圧縮と解凍を一組として 1166 組までです。定
     義できる関数は 1166 個までです。定義できるエイリアスは 225566 個
     までです。これらの上限値には、最初から組込み定義されているも
     のを含みます。

     端末の種類によって、一部のファンクションキーや特殊キーの入力
     ができないことがあります。tteerrmmccaapp(5) に登録されていない機能
     のデフォルトシーケンスは、VVTT220000 互換のシーケンスを採用してい
     ますが、端末がこれに対応できていない場合は、その機能を用いた
     キーの取得や画面制御ができません。


関関連連事事項項
     sshh(1), llss(1), rrmm(1), ttaarr(1), ccoommpprreessss(1), zzccaatt(1), ggzziipp(1),
     gguunnzziipp(1), llhhaa(1), tteerrmmccaapp(5)


ババググ
     アーカイブファイル内に ".." を含んだパス名で圧縮してある場合
     は、アーカイブブラウザが正常に働きません。アーカイブファイル
     内の symbolic リンクは個別に展開できません。

     ユーザインタフェースが稚拙です。


著著作作権権
     Copyright (C) 1995,96 by Takashi SHIRAI

     白井 隆, 任天堂株式会社 開発技術部
             <shirai@nintendo.co.jp>
