[FDclone をインストールする法]

・UNIX 版の場合

1. machine.h でコメントアウトされている部分を、付属のコメン
   ト文を参照しながら、自分のマシン環境に合わせて、行頭にあ
   る "/*" を削除します。
   特に、下記の 2 つの設定については、OS のデフォルトと管理
   者の設定が異なっている場合があるので、注意して選択して下
   さい。
	CODEEUC		OS では EUC 漢字コードを使っている。
			(この識別子が未定義の場合は Shift JIS)
	TARUSESPACE	tar(1) の t オプションの出力で、各行
			のファイルモード文字列の後ろに、必ず
			空白文字がついている。
   以下の OS では、この 2 つ以外の変更の必要は特にありません。
   無理に変更すると却って失敗しますので、そのまま次のステッ
   プに進んで下さい。
	Sun	SunOS		(4.1.x, 5.x)
	SONY	NEWS-OS		(3.2, 4.x, 6.x)
	SGI	IRIX		(R5.x, R6.x)
	HP	HP-UX		(9.x, 10.01)
	NEC	EWS-UX/V(Rel4.x)(R7.1, R12.3, R13.1)
	DEC	OSF/1		(V3.2, V4.0)
	DEC	ULTRIX		(V4.x)
	IBM	AIX		(3.x, 4.x)
	Fujitsu	UXP/M		(4.1)
	Fujitsu	UXP/DS		(V10, V20)
	JCC	4.4BSD-Lite	(v1.0)
		Linux		(2.x)
		FreeBSD		(2.x)
		NetBSD		(1.x)
	BSDI	BSD/OS		(2.x, 3.0)
	ASCII	BSD on Windows	(1.0, 1.5)

   また、以下の OS は、Ver.1.03 での動作確認は行なわれていま
   せんが、各 OS 用のコードが記述されていますので、多分変更
   の必要がないものと思われます。
   少なくとも、無変更のままコンパイルが無事通るようであれば、
   余計な変更は行なわない方が無難だと思います。
	SGI	IRIX		(R4.0.5)
	HITACHI	HI-UX/WE2	(01-x, 02-01, 04-02)
	NEC	EWS-UX/V(Rel4.x)(R5.3, R8.1, R9.1, R10.1)
	OMRON	UniOS-U		(Ver3.00)
	OMRON	UniOS-B		(2.00)
	OMRON	Luna/Mach	(2.5)
	DEC	OSF/1		(V1.2, V2.0)
	Apple	A/UX		(3.0)
	DG	DG/UX		(5.4)
	Fujitsu	UXP/M		(4.0)
	Mips	RISC/os		(4.x, 5.0x)
	NeXT	NEXTSTEP	(3.0)
		386BSD		(R0.1)
	BSDI	BSD/OS		(1.1)

   これ以外の OS では、その OS の環境を自動判定するプログラ
   ムが付属されていますので、make config とすれば環境設定フ
   ァイルが作成されます。
   但し、この自動判定も完璧ではないので、うまくコンパイルで
   きないようなら、make config で作成される config.h を編集
   し直して下さい。修正についての詳細は TECHKNOW を参照して
   下さい。

2. fd.h で定義されている定数の幾つかを、自分の好みに合わせて
   変更します。各定数の意味は、マニュアルに書かれている環境
   変数の項を参照して下さい。
   環境変数名と全く同じ定数名にしてあります。判断できなけれ
   ばそのままにしておいて問題はありません。

   また、PAGER, EDITOR の 2 つは、環境に応じて適当なコマンド
   名に書き換えておくと良いでしょう。但し、該当するコマンド
   がどうしても用意できない場合にはその行をコメントアウトし
   ておいて下さい。
   (PAGER: ファイル閲覧ソフト, EDITOR: テキストエディタ)

3. make。

4. コンパイルされたものが無事に動くことを確認します。

5. Makefile.in にある TOPDIR 等のマクロを自分の環境に応じて
   書き換えます。
   ここで DEFRC を書き換えてしまった場合は、make clean をし
   てからもう一度 make します。この場合、各ドキュメントの記
   載と矛盾することにはなりますが、プログラム実行には支障あ
   りません。

6. _fdrc を fdrc という名前でコピーし、fdrc を自分の環境に
   応じて書き換えます。一から作成しても構いません。
   予め用意してある _fdrc は飽くまでも設定例に過ぎません。
   ここでの設定がシステム共通の設定となってしまうので、シス
   テム管理者としてのポリシーを持って、十分考えた上で仕上げ
   ましょう。
   ここで fdrc を作成しなければ、システム共通の設定ファイル
   はインストールしません。その場合、ユーザの設定ファイルの
   み有効になります。

7. make install。

8. 正しくマニュアルがインストールされた (man fd できる) 場
   合はここで終了です。

   nroff が日本語対応でない等の理由でマニュアルが正しくイン
   ストールされない場合があります。例えば、文字化けしていた
   り、man コマンドがエラーメッセージを吐いたり。
   その場合、プレーンテキスト版のマニュアルをインストールす
   れば、正しくマニュアルを参照できます。

   make のターゲットを
	catman -> catman-b -> compman -> compman-b
   の順で変更しながら順次 man fd できるようになったか試して
   みて下さい。
   make catman でも正しくインストールされていないなら、次の
   make catman-b を実行して... と続けます。

   -b のついたターゲットでは、バックスペース文字 (^H) を解釈
   できない端末用にインストールし、comp のついたターゲットは
   テキストを compress で圧縮してインストールします。

9. 終了。


--------
・MS-DOS 版の場合

1. 以下のコンパイラで動作確認を行なっています。
	djgpp 1.1x			(g)
	djgpp 2.0x			(d)
	LSI C-86 Ver.3.30 試食版	(l)
	Borland C++ 5.xx		(b)

   DOS/V, PC9800 用にそれぞれ makefile.?pc, makefile.?98 が
   用意されていますので、これを用います。? の箇所には、それ
   ぞれのコンパイラに応じて上記の () 内の文字が入ります。
   それぞれを makefile と改名しても良いですし、make 時に明
   示的に make -f makefile.xxx と行なっても構いません。

2. fd.h で定義されている定数の幾つかを、自分の好みに合わせて
   変更します。各定数の意味は、マニュアルに書かれている環境
   変数の項を参照して下さい。
   環境変数名と全く同じ定数名にしてあります。判断できなけれ
   ばそのままにしておいて問題はありません。

   また、PAGER, EDITOR の 2 つは、環境に応じて適当なコマンド
   名に書き換えておくと良いでしょう。但し、該当するコマンド
   がどうしても用意できない場合にはその行をコメントアウトし
   ておいて下さい。
   (PAGER: ファイル閲覧ソフト, EDITOR: テキストエディタ)

   飯塚豊 <dude@is.s.u-tokyo.ac.jp> 氏作の正規表現ライブラリ
   REXP <ftp://ftp.vector.co.jp/pack/dos/prog/lib/rexp005.lzh>
   を持っている場合、ここで USERE_COMP を config.hin に追加
   することでリンク可能になります。
   この場合、makefile の LDFLAGS に REXP ライブラリファイル
   を追加するのを忘れないで下さい。ライブラリの作り方や使い
   方の詳細は、REXP のドキュメントを参照して下さい。
   (djgpp 2.0x 以外のコンパイラでは、標準では正規表現ライブ
   ラリが用意されていませんので、そのままコンパイルした場合
   はファイル名検索機能等が多少貧弱になります。)

3. make

4. コンパイル時にメモリ不足等でエラーになるようであれば、一
   部の機能を縮小するために、TECHKNOW の項目 8. を参照しなが
   ら、config.hin で機能制限用識別子を定義した上で、再コンパ
   イルして下さい。
	例: #define _NOTREE	(ツリー表示画面が仕様不能)

5. make fd.doc でマニュアルファイルが作成されます。同様に、
   README.doc, HISTORY.doc, FAQ.doc の各種ドキュメントファイ
   ルも作成できます。

6. fd.exe と fd-unicd.tbl を、パスが通った同一のディレクトリ
   にコピーします。旧 DOS での LFN アクセス機能が必要でなけ
   れば、fd-unicd.tbl は必要ありません。

7. _fdrc を 自分の環境に応じて書き換え、fdrc という名前で
   fd.exe と同一のディレクトリに置きます。一から作成しても
   構いません。
   予め用意してある _fdrc は飽くまでも設定例に過ぎません。
   特に、MS-DOS 版では存在しないはずの設定も記述してありま
   すので、十分考えた上で仕上げましょう。
   各ユーザ単位に設定ファイルを用意したい場合は、各ユーザの
   ホームディレクトリを表す環境変数 HOME をユーザ毎に設定し、
   環境変数 HOME で表されるディレクトリ下に fd.rc を設けま
   す。
   なお、ヒストリファイル fd.hst も $HOME の下に作られます。
8. 終了。
