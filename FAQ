[FDclone に関する Q&A 集]


<1.UNIX 依存の話>

Q1-01.	長いファイル名が最後まで表示されないのですが？
A1-01.	デフォルトのキー割当てでお使いの場合、[(],[)] のキー
	でファイル名の表示部分を少しずつずらしていくことがで
	きます。お目当てのファイルにカーソルを合わせ、[)] を
	何度か押していけば、最後まで表示されるでしょう。

Q1-02.	FDclone を終了した後に、必ず起動時のディレクトリに戻
	されてしまうのですが、何とかならないでしょうか？
A1-02.	UNIX という OS では、カレントディレクトリという概念
	はプロセス毎に別個に持っていて、特に子プロセスでの変
	更を親プロセスに反映させる手段はありません。
	FDclone はユーザシェルの子プロセスとして起動されます
	から、FDclone がどう頑張ったところで、親プロセスであ
	るユーザシェルのカレントディレクトリは変更できません。

Q1-03.	Shift + ↑, ↓でページ切替えがしたいのですが。
Q1-04.	Shift + Ret でエディタの起動や実行ファイルの起動をし
	たいのですが。
Q1-05.	Shift を押した時にファンクション行の表記が変わらない
	のですが。
A1-03.
A1-04.
A1-05.	UNIXでは、キーボード入力の取得は、ホストと端末間の通
	信によって行ないます。どういうコードを送受するかは、
	端末エミュレーションソフトや端末そのものの規格によっ
	て決められています。
	一般の端末では、Shift そのものはキーコードを送信しま
	せん。他のキーが押された時に初めて、そのキーの Shift
	用のコードが送信されます。
	つまり、Shift キーと併用してキーコードが変わるキーで
	なければ、Shift キーを押しているかどうかは判断できま
	せんし、どのキーがそういう仕様かは端末側が決めていま
	す。
	そして一般に、Ret やカーソルキーは Shift 押下の影響
	を受けずに同じ信号を送信します。


<2.カスタマイズの話>

Q2-01.	ファイルの拡張子によって外部コマンドを起動させたいの
	ですが、ユーザカスタマイズはできますか？
Q2-02.	キー割当てを変更したいのですがどうしたらいいですか？
A2-01.
A2-02.	ホームディレクトリにある .fdrc を環境設定ファイルと
	して使って下さい。書式詳細については、man ページのマ
	ニュアルを参照して下さい。

Q2-03.	キー割当てできないキーがあるのですが。
A2-03.	キー割当ての変更可能なキーは、ASCII コードで表現可能
	な文字の刻印のついたキーだけになっています。各種機能
	キーは、ファンクションキーを除いて割当て変更できませ
	ん。
	また、妙な変更をしてしまって FDclone から抜け出せな
	くなることを防止するため、ESC のキー割当て変更は禁止
	しています。

Q2-04.	ファンクションキーの表示が実際のキーボードと合わない
	のですが。
A2-04.	キー割当ての変更機能で、ファンクションキーのキー割当
	てを変更する際に、ファンクション行の該当位置の表示を
	変更できます。詳細は man ページを参照して下さい。
	但し、キーボードについているファンクションキーの並び
	方がファンクション行と異なるような場合、これをキーボ
	ードの側に合わせることは、残念ながらできません。悪し
	からず。

Q2-05.	どういう風にカスタマイズされたかを確認したいのですが。
A2-05.	EXECUTE_SH コマンドにある組込みコマンドで確認できま
	す。例えば、キー割当てならば !printmacro、内部変数定
	義ならば !printenv です。詳しくは man ページを参照し
	て下さい。

Q2-06.	システム管理者として、ユーザ共通の環境設定ファイルを
	用意したいのですが。
A2-06.	/etc/fdrc というファイルを作って下さい。.fdrc の有無
	に関わらず、こちらを参照した後ユーザの .fdrc を参照
	します。

Q2-07.	新しいアーカイブ形式をアーカイブブラウザに登録したい
	のですが、どう登録すれば良いでしょう？
A2-07.	TECHKNOW の項目 5 で詳しく解説していますので、マニュ
	アルの「アーカイブブラウザ」の項と共に参照して下さい。

Q2-08.	常にソートされてしまいます。
Q2-09.	シンボリックリンクはリンク先の情報を見たいのですが。
Q2-10.	ファイル名の後ろに '*' や '/' といった文字がついてし
	まいます。
Q2-11.	'.' で始まるファイルが表示されません。
Q2-12.	ディレクトリ書込み機能が効きません。
Q2-13.	ヒストリ機能が使えません。
Q2-14.	ツリー表示モードでファイル一覧が一部しか表示されませ
	ん。
A2-08.
A2-09.
A2-10.
A2-11.
A2-12.
A2-13.	
A2-14.	これらの設定は、内部変数や環境変数で設定します。ユー
	ザ側で意図的に設定する以外に、システム管理者がユーザ
	共通の設定ファイルを用意している場合や、コンパイル時
	に埋め込んでいる場合もあります。マニュアルの「環境変
	数」の項を良く読んで、.fdrc などで自分に合った環境に
	設定しましょう。
	また、管理者の人は、ユーザがこのような困惑を抱かない
	ように、適切な共通設定ファイルを用意すべきです。配布
	パッケージ添付の設定ファイルは飽くまでも一例に過ぎま
	せんから、熟考した上で共通設定ファイルを作成して下さ
	い。


<3.動作環境の話>

Q3-01.	ファイルの中身を参照しようとした場合、ページ制御がう
	まくいかなかったり、binary だと画面が崩れてしまった
	りします。
A3-01.	それは閲覧ソフトの仕様によります。内部変数 (または環
	境変数) PAGER に対して定義した閲覧ソフトを変えれば、
	参照時の問題はクリアされるでしょう。
	FSF が配布している GNU less などがお奨めです。

Q3-02.	ファンクションキーを押しても反応しません。
A3-02.	ファンクションキーの吐くキーコードが期待したものと異
	なるのでしょう。termcap や terminfo のマニュアルを見
	て、端末に合ったエントリを登録し直しましょう。
	もしくは、端末を管理している管理者に文句を言って、直
	してもらって下さい。
	また、端末によっては、ファンクションキーを押してもキ
	ーコードを送出せずに、代わりに画面コピーなどの動作を
	するものもあります。そのような端末では、ファンクショ
	ンキーを使用することはできません。

Q3-03.	"Column size too small" とメッセージが出て終了してし
	まいました。
A3-03.	端末の横方向の文字数が少な過ぎて、FDclone の表示に支
	障が出るために強制終了したということです。同様に、縦
	方向が小さいと、"Line size too small" となります。
	もっと大きな端末で起動するか、もしくはウィンドウ端末
	などサイズ可変の場合は 80x8 以上のサイズまで広げてか
	ら起動して下さい。
	サイズ可変端末の場合、起動中にサイズを小さくすると、
	作業中であっても終了してしまうことがありますので、気
	をつけて下さい。

Q3-04.	漢字が文字化けしてしまって読めません。
A3-04.	コンパイル時の漢字コードが違うか、もしくは漢字コード
	の異なる端末で起動してしまったためでしょう。
	後者の場合、内部変数 LANGUAGE に、sjis, jis, euc の
	どれかを端末に応じて指定して下さい。FDclone 内部でコ
	ード変換します。
	前者の場合、本来の漢字コードに直してコンパイルし直す
	必要がありますが、対処療法として後者と同じことをして
	も構いません。但しこの場合、漢字ファイル名のファイル
	や日本語 man ページの参照の際に不具合が生じると思い
	ます。

Q3-05.	違う環境のマシンに持っていって実行したらおかしくなっ
	てしまいました。
A3-05.	一般に、環境が異なればコンパイルし直すのが原則です。
	一見同じように見えても、OS バージョンの違いや設定の
	違いのために、動作はできても何らかの不都合が生じるで
	しょう。
	また、別の環境でコンパイルし直す時は、以前の作りかけ
	のファイルが残らないように、"make clean" を実行して
	からコンパイルすることを忘れないで下さい。

Q3-06.	make config したのですがちゃんとコンパイルできません。
A3-06.	環境の自動判定は完璧ではありませんので、TECHKNOW の
	項目 1 を見ながら、手作業で config.h を修正して下さ
	い。多少の C 言語の知識は必要としますが、各 man ペー
	ジを参照しながら修正すれば高度な知識は必要ないでしょ
	う。
	また、Install の中で対応 OS と唱われている OS を使っ
	ている場合は、make config を行なうと却って不適切な設
	定になってしまう場合もあるので、make config はしない
	で下さい。誤って行なってしまった場合は make clean を
	実行しましょう。
	なお、未対応 OS に対する config.h の設定ができた場合、
	作者まで連絡下されば、次回のリリースでは対応 OS とし
	て登録される場合もあります。
	但し、作者の所持しない環境については基本的にサポート
	不可能なので、config.h の修正でも不完全だった場合に
	は諦めて下さい。ハード込みで作者まで開発環境を用意し
	て頂けるようならサポートしますが。

Q3-07.	man fd を実行してもマニュアルが正しく出ません。
A3-07.	マニュアルが正しくインストールされていない可能性があ
	ります。Makefile.in で指定した MANDIR は用意されてい
	るでしょうか。
	もしくは漢字コードにまつわる設定不備も考えられます。
	ユーザ環境で MANPATH や LANG といった環境変数が正し
	く設定されているかどうかを確認しましょう。
	最悪のケースとしては、OS が日本語対応でないという場
	合も考えられます。端末自体は日本語を表示可能であって
	も、テキストフォーマッタ (大抵は nroff) が日本語を正
	しく扱えないという場合もあります。
	その場合は、別のマシンで roff 形式の fd.1 をテキスト
	形式に整形し、それを $MANPATH/cat1/fd.1 にコピーする
	必要があります。

Q3-08.	アーカイブブラウザでファイルのタイムスタンプだけが正
	しく表示されません。
A3-08.	FDclone を抜けて手動で "tar tvf <ファイル名>" を実行
	してみて下さい。日付や時刻が日本語で表示されていませ
	んか？
	そのような書式のタイムスタンプは正しく認識できないの
	で、.fdrc などで "export LANG=C" を実行し、英語モー
	ドで tar を実行するようにして下さい。
	また、アーカイブブラウザ登録が間違っていることも考え
	られますので、TECHKNOW の項目 5 やマニュアルの「アー
	カイブブラウザ」の項を良く読んでみましょう。


<4.仕様の話>

Q4-01.	パス名の入力に履歴参照できませんか？
A4-01.	色々と検討した結果、パス名の履歴はつけないことにしま
	した。その代わり、ファイル名補完機能や、直前のディレ
	クトリ (-) に移動する機能がありますので、そちらの便
	利さの方が履歴機能を補っているという判断です。

Q4-02.	INFO_FILESYS コマンドで、値が "?" となってしまうこと
	があるのですが。
A4-02.	OS 側の仕様で、ファイルシステム情報が得られないよう
	な場合があります。その場合は "?" と表示されますが、
	これは OS 側の都合でそうなっているので、FDclone には
	どうしようもありません。

Q4-03.	ディレクトリにもマークできるようにはなりませんか？
A4-03.	ディレクトリへのマークを許してしまうと、ユーザが操作
	を間違えてしまった場合のダメージが大きくなってしまい
	ます。安全策をとって、ディレクトリへのマークは禁止し
	ています。
	なお、オリジナルの『ＦＤ』でもそういう仕様になってい
	るはずです。

Q4-04.	検索指定文字列に "*" を選んだところ、'.' で始まるフ
	ァイルが除外されてしまいました。
A4-04.	UNIX のシェルでは、'.' で始まるファイルはワイルドカ
	ードにマッチしないようになっています。FDclone でもそ
	の仕様に合わせました。
	因みに、一般には、'.' で始まるファイルにマッチさせる
	には、".??*" という文字列で検索します。

Q4-05.	カラー画面になりませんか？
A4-05.	Ver.1.01 では対応していません。

Q4-06.	バグがみつかりました。
A4-06.	下記のアドレスまで mail でレポートして下さい。
		<shirai@red.nintendo.co.jp>
	対処法が判れば次のバージョンから Bugfix します。

Q4-07.	ソートするとディレクトリだけ必ず先に来てしまうのです
	が。
Q4-08.	ツリー表示モードにすると、ソートするように設定しても
	カレントディレクトリが必ず先頭に来てしまいます。
A4-07.
A4-08.	そういう仕様にしてあります。


<5.その他>

Q5-01.	ソースを失ってしまいました。
A5-01.	現在確認されている anonimous ftp 先は下記のとおりで
	す。そちらから入手して下さい。

	ftp.imasy.or.jp:/pub/unix/util/fd/FD-1.01.tar.gz
